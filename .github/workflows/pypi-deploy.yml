name: deploy-pypi
on: 
  workflow_dispatch:
    inputs:
      choice:
        type: choice
        description: Version Field
        options:
        - major
        - minor
        - patch

jobs:
  deploy:
    # name: runner / linux
    runs-on: [self-hosted]
    steps:
    - uses: actions/checkout@v3
    - name: Bump Version
      run: |
        SCRIPTS=github/workflows/scripts/
        # pip3 install -r $SCRIPTS/requirements.txt
        python3 $SCRIPTS/version_update.py pyproject.toml --${{github.event.inputs.choice}}
        cat pyproject.toml | grep version
    # - name: Deploy
    #   run: |
    #     set +e
    #     rm -rf dist
    #     set -e
    #     pip3 install --upgrade build 
    #     python3 -m build
    #     python3 -m pip install --upgrade twine
    #     python3 -m twine upload --repository pypi dist/*
    #     set +e
