Controller Commands
===================

Set Event Mask
--------------

Control which events are generated by the HCI for the host.
Setting a bit to 1 enables the corresponding event.

.. list-table::
    :width: 100%
    :widths: 30 10 30 30
    :header-rows: 1

    * - Command
      - OCF
      - Command Parameters
      - Return Parameters
    * - SET_EVENT_MASK
      - 0x0001
      - Event_Mask
      -

Parameters
``````````

.. list-table:: Event_Mask, size = 8 octets
    :width: 100%
    :widths: 20 80
    :header-rows: 1

    * - Bit
      - Event
    * - 0
      - Inquiry Complete
    * - 1
      - Inquiry Result
    * - 2
      - Connection Complete
    * - 3
      - Connection Request
    * - 4
      - Disconnection Complete
    * - 5
      - Authentication Complete
    * - 6
      - Remote Name Request Complete
    * - 7
      - Encryption Change
    * - 8
      - Change Connection Link Key Complete
    * - 9
      - Link Key Type Changed
    * - 10
      - Read Remote Supported Features Complete
    * - 11
      - Read Remote Version Information Complete
    * - 12
      - QoS Setup Complete
    * - 15
      - Hardware Error
    * - 16
      - Flush Occured
    * - 17
      - Role Change
    * - 19
      - Mode Change
    * - 20
      - Return Link Keys
    * - 21
      - PIN Code Request
    * - 22
      - Link Key Request
    * - 23
      - Link Key Notification
    * - 24
      - Loopback Command
    * - 25
      - Data Buffer Overflow
    * - 26
      - Max Slots Change
    * - 27
      - Read Clock Offset Complete
    * - 28
      - Connection Packet Type Changed
    * - 29
      - QoS Violation
    * - 30
      - [Previously used.]
    * - 31
      - Page Scan Repitition Mode Change
    * - 32
      - Flow Specification Complete
    * - 33
      - Inquiry Result with RSSI
    * - 34
      - Read Remote Extended Features Complete
    * - 43
      - Synchronous Connection Complete
    * - 44
      - Synchronous Connection Changed
    * - 45
      - Sniff Subrating
    * - 46
      - Extended Inquiry Result
    * - 47
      - Encryption Key Refresh Complete
    * - 48
      - IO Capability Request
    * - 49
      - IO Capability Response
    * - 50
      - User Confirmation Request
    * - 51
      - User Passkey Request
    * - 52
      - Remote OOB Data Request
    * - 53
      - Simple Pairing Complete
    * - 54
      - 
    * - 55
      - Link Supervision Timeout Changed
    * - 56
      - Enhanced Flush Complete
    * - 57
      - 
    * - 58
      - User Passkey Notification
    * - 59
      - Keypress Notification
    * - 60
      - Remote Host Supported Features Notification
    * - 61
      - LE Meta
    * - All other bits
<<<<<<< HEAD
<<<<<<< HEAD
      - [Reserved for future use].
=======
      - [Reserved for future use.]
>>>>>>> 4dd08ad (Initial documentation bringup)

Return Parameters
`````````````````

.. list-table:: Status, size = 1 octet
    :width: 100%
    :widths: 20 80
    :header-rows: 1

    * - Value(s)
      - Parameter Description
    * - 0x00
      - Command completed successfully.
    * - 0x01 to 0xFF
      - Command failed.

Event(s) Generated
``````````````````

- COMMAND_COMPLETE


Reset
-----

Reset controller/link layer.

.. list-table::
    :width: 100%
    :widths: 30 10 30 30
    :header-rows: 1

    * - Command
      - OCF
      - Command Parameters
      - Return Parameters
    * - RESET
      - 0x0003
      - 
      - Status

Parameters
``````````

None.

Return Parameters
`````````````````

.. list-table:: Status, size = 1 octet
    :width: 100%
    :widths: 20 80
    :header-rows: 1

    * - Value(s)
      - Parameter Description
    * - 0x00
      - Command completed successfully.
    * - 0x01 to 0xFF
      - Command failed.

Event(s) Generated
``````````````````

- COMMAND_COMPLETE


Read TX Power Level
-------------------

Read TX power level for a connection.

.. list-table::
    :width: 100%
    :widths: 30 10 30 30
    :header-rows: 1

    * - Command
      - OCF
      - Command Parameters
      - Return Parameters
    * - READ_TX_PWR_LVL
      - 0x002D
      - | Connection_Handle
        | Type
      - | Status
        | Connection_Handle
        | TX_Power_Level

Parameters
``````````

.. list-table:: Connection_Handle, size = 2 octets
    :width: 100%
    :widths: 20 80
    :header-rows: 1

    * - Value(s)
      - Parameter Description
    * - 0x0000 to 0x0EFF
      - Indicates which connection to retrieve the TX power for
    
.. list-table:: Type, size = 1 octet
    :width: 100%
    :widths: 20 80
    :header-rows: 1

    * - Value(s)
      - Parameter Description
    * - 0x00
      - Read current TX power level
    * - 0x1
      - Read maximum TX power level
    * - All other values
      - [Reserved for future use.]

Return Parameters
`````````````````

.. list-table:: Status, size = 1 octet
    :width: 100%
    :widths: 20 80
    :header-rows: 1

    * - Value(s)
      - Parameter Description
    * - 0x00
      - Command completed successfully.
    * - 0x01 to 0xFF
      - Command failed.

Event(s) Generated
``````````````````

<<<<<<< HEAD
- COMMAND_COMPLETE
=======
- COMMAND_COMPLETE
>>>>>>> ae983f2 (merge 2x)
